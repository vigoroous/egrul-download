generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "sqlite"
    url      = env("DATABASE_URL")
}

model Company {
    id                Int      @id @default(autoincrement())
    inn               String   @unique
    isEgrulProcessed  Boolean  @default(false)
    isDadataProcessed Boolean  @default(false)
    egrul             Egrul[]
    dadata            Dadata[]
}

model Egrul {
    id           Int     @id @default(autoincrement())
    a            String? @map("address")
    c            String? @map("short_name")
    n            String? @map("full_name")
    g            String? @map("manager")
    k            String? @map("company_type")
    r            String? @map("registration_date")
    e            String? @map("liquidation_date")
    cnt          String? @map("count")
    i            String? @map("inn")
    o            String? @map("ogrn")
    p            String? @map("kpp")
    t            String? @map("token")
    pg           String? @map("page")
    tot          String? @map("total")
    isDownloaded Boolean @default(false)
    company      Company @relation(fields: [companyInn], references: [inn], onDelete: Cascade)
    companyInn   String
}

model Dadata {
    id         Int     @id @default(autoincrement())
    suggestion String
    company    Company @relation(fields: [companyInn], references: [inn], onDelete: Cascade)
    companyInn String
}
